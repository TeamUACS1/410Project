{% extends "layout.html" %}
{% block body %}
<div id="wrapper">
	<header>
		<h1>Welcome</h1>
		<script>
			function addname(o) {
				var info = document.getElementById("privacy");
				var select = info.options[info.selectedIndex].value;
				if (select== "3"){
					doc = document.getElementById("private_auth");
					doc.setAttribute("type", "text");
				}
				else {
					field = document.getElementById("private_auth");
					doc.setAttribute("type", "hidden");
				}
			}
		</script>
	</header>	
	<div id="main">
		<div id="sidebar">
			<ul>
  				<li class="active" id="home"><a href="#">My Posts</a></li>
				<li><a href="/socialmedia/seeAllPosts" id="seeAllPosts">Public Posts</a></li>
				<li><a href="/socialmedia/seefriendPosts" id="seefriendPosts">Friend's Posts</a></li>
				<li><a href="/socialmedia/friendOfFriend" id="friendOfFriend">Friends of friends</a></li>
				<li><a href="/socialmedia/search" id="search">Search</a></li>
				<li><a href="/socialmedia/userProfile" id="userProfile">User Profile</a></li>
				<li><a href="/socialmedia/profileSettings">Profile Settings</a></li>
				<li><a href="/socialmedia/myStream">My Stream</a></li>
				{% for admin in request.session.admin %}
					{% if admin = "T" %}
					<li><a href="/socialmedia/approveAuthors">Approve Authors</a></li>
					<li><a href="/socialmedia/manageAuthors">Manage Authors</a></li>
		{%endif%}{%endfor%}
			</ul>
		</div>
		<div id="content">
			<form id="addForm" method="POST" action="/socialmedia/add_post/">{% csrf_token %}
				<div class="winHead">
					<h2>Add a post</h2>
				</div>
				<div class="winBody">
					<p>
					<textarea class="text" id="post" name="post" placeholder="what are you thinking?"></textarea></p><p>
					<select name="privacy" id = "privacy" onchange = "addname(this)">
  						<option value=0 selected="selected">Public</option>
						<option value=1>Private</option>
						<option value=2>Friends</option>
						<option value=3>Private author post</option>
						<option value=4>Friend of friend</option>
					</select>
					<p>
					<input type=hidden class="text" id="private_auth" name="private_auth" placeholder="Type another username"></p>
					<input type=submit class="btn addBtn" value="Add"></p>
				</div>
			</form>
			{% for posts in posts %}
			<div class="link">
				<h4>{{ posts.post }}<form class="operation_from" action="/socialmedia/delete/" method=post>{% csrf_token %}
					<input type="hidden" id="ID" name="ID" value={{posts.id}}>


					<input type="submit" value=Delete>
					</form>
					<form class="operation_from" action="/socialmedia/edit/" method=post>{% csrf_token %}
					<input type="hidden" id="ID" name="ID" value={{posts.id}}>


					<input type="submit" value=Edit>
					</form>
				</h4>
				<p class="tags"> </p>
			</div>
			{% endfor %}
		</div>
	</div>
</div>
{%endblock%}
